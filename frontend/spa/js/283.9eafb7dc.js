"use strict";(globalThis["webpackChunkllm_chat"]=globalThis["webpackChunkllm_chat"]||[]).push([[283],{2283:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var a=n(1758),s=n(8790);const o={key:0,class:"text-center"},r={class:"q-ma-xl my-box"};function l(e,t,n,l,u,c){const i=(0,a.g2)("q-icon"),p=(0,a.g2)("q-input"),m=(0,a.g2)("q-form"),d=(0,a.g2)("q-spinner-bars"),g=(0,a.g2)("q-tooltip"),h=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(h,{class:"flex flex-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",null,[(0,a.Lk)("div",null,"Anfragen: "+(0,s.v_)(e.store.counter),1),(0,a.Lk)("div",null,[(0,a.bF)(m,{onSubmit:t[2]||(t[2]=t=>e.queryChatBot(e.input_text))},{default:(0,a.k6)((()=>[(0,a.bF)(p,{label:"Frage","input-class":"text-center",modelValue:e.input_text,"onUpdate:modelValue":t[1]||(t[1]=t=>e.input_text=t),disable:e.status_query},{append:(0,a.k6)((()=>[(0,a.bF)(i,{name:"search",class:"cursor-pointer",onClick:t[0]||(t[0]=t=>e.queryChatBot(e.input_text))})])),_:1},8,["modelValue","disable"])])),_:1})]),e.status_query?((0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(d,{color:"primary",size:"2em"}),(0,a.bF)(g,{offset:[0,8]},{default:(0,a.k6)((()=>[(0,a.eW)("Warte auf Antwort ...")])),_:1})])):(0,a.Q3)("",!0),(0,a.Lk)("div",r,(0,s.v_)(e.last_answer),1)])])),_:1})}var u=n(8734),c=n(587),i=n(4461);const p=(0,c.nY)("counter",{state:()=>({counter:0}),getters:{doubleCount(e){return 2*e.counter}},actions:{increment(){this.counter++},async query(e){console.log("query",e);let t=JSON.stringify({system_message:"You are a helpful assistant",user_message:e.message,max_tokens:100}),n={method:"post",maxBodyLength:1/0,url:"http://localhost:5001/llama",headers:{"Content-Type":"application/json"},data:t};return new Promise(((e,t)=>{(0,i.A)(n).then((t=>{console.log("response",t);const n=t.data.choices[0].text,a=n.split("[/INST]"),s=a[1];e(s)})).catch((e=>{console.log("error",e),t(e)}))}))}}});var m=n(3710);const d=(0,a.pM)({name:"IndexPage",setup(){const e=(0,m.A)(),t=p(),n=(0,u.KR)(!1),a=(0,u.KR)("");return{store:t,status_query:n,last_answer:a,input_text:(0,u.KR)(""),queryChatBot:s=>{n.value=!0,t.increment(),t.query({message:s}).then((e=>{a.value=e})).catch((t=>{e.notify({color:"negative",position:"top",message:"Fehler: "+t,icon:"report_problem"})})).finally((()=>{n.value=!1}))}}}});var g=n(2807),h=n(3177),_=n(1565),y=n(6809),b=n(4609),f=n(2669),q=n(5360),v=n(8582),k=n.n(v);const x=(0,g.A)(d,[["render",l]]),A=x;k()(d,"components",{QPage:h.A,QForm:_.A,QInput:y.A,QIcon:b.A,QSpinnerBars:f.A,QTooltip:q.A})}}]);